<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>ParallelConsumer (xfunction 10.0 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ParallelConsumer (xfunction 10.0 API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">id.xfunction.function</a></div>
<h2 title="Class ParallelConsumer" class="title">Class ParallelConsumer&lt;T&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>Object</li>
<li>
<ul class="inheritance">
<li>ParallelConsumer&lt;T&gt;</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code>AutoCloseable</code>, <code>Consumer&lt;T&gt;</code></dd>
</dl>
<hr>
<pre>public class <span class="typeNameLabel">ParallelConsumer&lt;T&gt;</span>
extends Object
implements Consumer&lt;T&gt;, AutoCloseable</pre>
<div class="block"><P>Parallel streams may partition the stream in any order which means
 that there is no guarantee that items which are in the top of the
 stream will be processed first. Here is an example:</p>
 
 <pre><code>
 AtomicInteger c = new AtomicInteger();
 Consumer&lt;Integer&gt; consumer = s -&gt; {
     if (c.incrementAndGet() &lt; 15)
         System.out.println(s);
 };

 System.out.println("Parallel stream:");
 range(0, 1000)
     .parallel()
     .boxed()
     .forEach(consumer);
 System.out.println("Total: "  + c);
 </code></pre>
 
 May produce:
 
 <pre>
 Parallel stream:
 656
 657
 658
 659
 660
 661
 662
 663
 664
 665
 666
 667
 668
 77
 Total: 1000
 </pre>
 
 <p>The output of course differs every time you run the code.</p>
 
 <p>Parallel consumer on the other hand allows you to process items of
 the stream in parallel but guaranteeing that items will be taken in order.</p>
 
 <pre><code>
 System.out.println("Parallel consumer:");
 c.set(0);
 try (ParallelConsumer&lt;Integer&gt; pconsumer = new ParallelConsumer&lt;&gt;(consumer)) {
     range(0, 1000)
         .boxed()
         .forEach(pconsumer);
 }
 System.out.println("Total: "  + c);
 </code></pre>
 
 May produce:
 
 <pre>
 Parallel consumer:
 0
 1
 4
 5
 2
 3
 6
 7
 8
 9
 10
 12
 13
 11
 Total: 1000
 </pre>

 <p>It is achieved by making consumers to take items from the internal
 queue.</p>
 
 <p>If your application finishes but does not terminate it may be because:</p>
 
 <ul>
 <li>you are leaking parallel consumers (make sure to close them)</li>
 <li>one of your consumers still running preventing JVM from stopping</li>
 </ul>
 
 All exceptions in worker threads by default will be printed to stderr unless the
 exception handler is defined.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(java.util.function.Consumer)">ParallelConsumer</a></span>&#8203;(Consumer&lt;<a href="ParallelConsumer.html" title="type parameter in ParallelConsumer">T</a>&gt;&nbsp;consumer)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(java.util.function.Consumer,int)">ParallelConsumer</a></span>&#8203;(Consumer&lt;<a href="ParallelConsumer.html" title="type parameter in ParallelConsumer">T</a>&gt;&nbsp;consumer,
                int&nbsp;parallelismLevel)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(java.util.function.Consumer,java.lang.Thread.UncaughtExceptionHandler)">ParallelConsumer</a></span>&#8203;(Consumer&lt;<a href="ParallelConsumer.html" title="type parameter in ParallelConsumer">T</a>&gt;&nbsp;consumer,
                Thread.UncaughtExceptionHandler&nbsp;exHandler)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#accept(T)">accept</a></span>&#8203;(<a href="ParallelConsumer.html" title="type parameter in ParallelConsumer">T</a>&nbsp;t)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#close()">close</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.Consumer">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;Consumer</h3>
<code>andThen</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(java.util.function.Consumer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ParallelConsumer</h4>
<pre>public&nbsp;ParallelConsumer&#8203;(Consumer&lt;<a href="ParallelConsumer.html" title="type parameter in ParallelConsumer">T</a>&gt;&nbsp;consumer)</pre>
</li>
</ul>
<a id="&lt;init&gt;(java.util.function.Consumer,int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ParallelConsumer</h4>
<pre>public&nbsp;ParallelConsumer&#8203;(Consumer&lt;<a href="ParallelConsumer.html" title="type parameter in ParallelConsumer">T</a>&gt;&nbsp;consumer,
                        int&nbsp;parallelismLevel)</pre>
</li>
</ul>
<a id="&lt;init&gt;(java.util.function.Consumer,java.lang.Thread.UncaughtExceptionHandler)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ParallelConsumer</h4>
<pre>public&nbsp;ParallelConsumer&#8203;(Consumer&lt;<a href="ParallelConsumer.html" title="type parameter in ParallelConsumer">T</a>&gt;&nbsp;consumer,
                        Thread.UncaughtExceptionHandler&nbsp;exHandler)</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="accept(java.lang.Object)">
<!--   -->
</a><a id="accept(T)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>accept</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;accept&#8203;(<a href="ParallelConsumer.html" title="type parameter in ParallelConsumer">T</a>&nbsp;t)</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>accept</code>&nbsp;in interface&nbsp;<code>Consumer&lt;<a href="ParallelConsumer.html" title="type parameter in ParallelConsumer">T</a>&gt;</code></dd>
</dl>
</li>
</ul>
<a id="close()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>close</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;close()
           throws Exception</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>close</code>&nbsp;in interface&nbsp;<code>AutoCloseable</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>Exception</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
</body>
</html>
